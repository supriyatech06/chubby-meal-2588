<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>products</title>
  <style>
	#products img{
		width:80%;
		display: grid;
		grid-template-columns: repeat(3,1fr);
	}
	#products{
		display: grid;
		grid-template-columns: repeat(3,1fr);
	}
	/* #product > div  {

	} */
  </style>
</head>
<body>
  <a href="cart.html">Cart</a>
  <a href="products.html">Products</a>
  <a href="wishlist.html">wish</a>

  <select id="filter">
	<option value="">Filter By Brand</option>
	<option value="Mac">Mac</option>
	<option value="Loreal Paris">Loreal Paris</option>
	<option value="Bobbi Brown">Bobbi Brown</option>
  </select>
  <div id="products">

  </div>
</body>
<script>

let products= [
    {
        id:0,
        name: "Molton Brown",
		brand:"Mac",
        price:54,
      
        description: "Molton Brown Black Peppercorn Body Wash 300ml",
         img: "https://static.thcdn.com/images/small/webp//productimg/original/10881872-9384931143761717.jpg" ,             
                     
    },
    {
        id:1,
        name: "Peter Thomas Roth",
		brand:"Loreal Paris",
        price:54,
        
        description: "Peter Thomas Roth Water Drench Hyaluronic Cloud Cream 50ml",
         img: "https://static.thcdn.com/images/small/webp/productimg/1600/1600/11599959-5774568545135383.jpg" ,             
    },

    {
        id:2,
        name: "Kp",
		brand:"Mac",
        price:30,
       
        description: "First Aid Beauty KP Bump Eraser Body Scrub with 10% AHA 226ml",
         img: "https://static.thcdn.com/images/small/webp//productimg/original/12208246-1774981947790488.jpg" ,             
    },

    {
        id:3,
        name: "Christophe",
		brand:"Loreal Paris",
        price: 53,
        
        description: "Christophe Robin Cleansing Purifying Scrub with Sea Salt 250ml",
         img: "https://static.thcdn.com/images/small/webp//productimg/original/12635437-9444884719322309.jpg" ,             
                   
    },

    {
        id:4,
        name: "Grow Gorgeous",
		brand:"Bobbi Brown",
        price: 20,
        
        description: `Grow Gorgeous Volume Bodifying Leave-in Serum 150ml`,
         img: "https://static.thcdn.com/images/small/webp//productimg/original/12701659-8174969020230565.jpg" ,             
    },

    {
        id:5,
        name: "Bio Serum",
		brand:"Mac",
        price: 45,
        
        description: "Neocutis Bio Serum Firm 30ml",
         img: "https://static.thcdn.com/images/small/webp//productimg/original/12434369-1934902066834303.jpg" ,             
    },

    {
        id:6,
        name: "VIRTUE",
		brand:"Loreal Paris",
        price: 90,
        
        description: `VIRTUE Flourish Nightly Intensive Hair Growth Treatment Hair Kit 4 piece`,
         img:"https://static.thcdn.com/images/small/webp//productimg/original/13126467-4774880813872914.jpg",             
    },

    {
        id:7,
        name: "PCA",
		brand:"Mac",
        price: 46,
        
        description: `PCA SKIN Hydrating Toner`,
         img: "https://static.thcdn.com/images/small/webp//productimg/original/11747438-1064866364838244.jpg" ,             
    },

    {
        id:8,
        name: "GRANDE",
		brand:"Loreal Paris",
        price:35,
       
        description: `GRANDE Cosmetics GrandeBROW Brow Enhancing Serum 3ml (4 Months Supply)`,
         img: "https://static.thcdn.com/images/small/webp//productimg/original/13187846-9314878568598991.jpg" ,             
    },

    {
        id:9,
        name: "IEstée Lauder",
		brand:"Mac",
        price: 48,
       
        description: `Estée Lauder Double Wear Stay-In-Place Makeup (Various Shades)`,
         img: "https://static.thcdn.com/images/small/webp//productimg/480/480/12707464-1784871985284256.jpg" ,             
    },

    {
        id:10,
        name: "Estée Lauder",
		brand:"Bobbi Brown",
        price: 70,
        
        description: `Estée Lauder Double Wear Stay-In-Place Makeup (Various Shades)`,
         img: "https://static.thcdn.com/images/small/webp//productimg/original/12664555-1704871739992403.jpg" ,             
    },

   
]




let filterby = document.getElementById("filter");
filterby.addEventListener("change", () => {
  FilterData(products);
});

function FilterData(data) {
  if (filterby.value === "") {
    DisplayData(data);
  } else {
    let filteredData = data.filter((ele) => {
      return ele.brand == filterby.value;
    });
    DisplayData(filteredData);
  }
}




let Wish=JSON.parse(localStorage.getItem("wish"))||[];
let Cart= JSON.parse(localStorage.getItem("cart"))||[];
let Container= document.querySelector("#products");
function DisplayData(data){
    Container.innerHTML="";
    data.forEach((products)=>{
        let Card=document.createElement("div");
        let Image=document.createElement("img");
        let name=document.createElement("h2");
		let Brand=document.createElement("h3")
        
        let Price=document.createElement("h2");
        let Detail=document.createElement("p");
        let AddtoCart=document.createElement("button");
        let wishlist=document.createElement("button");
        Image.src= products.img;
        name.textContent= products.name;
		Brand.textContent=products.brand
        Price.textContent=`₹${products.price}` 
        Detail.textContent=products.description 
        AddtoCart.textContent= "Add to Cart" ;
		
		wishlist.textContent= "❤️Add to wishlist" ;

		wishlist.addEventListener("click", ()=>{
            if(checkDuplicate(products)){
                alert("Product already in wishlist");
            } else{
                Wish.push({...products, quantity:1});
                localStorage.setItem("wish",JSON.stringify(Wish));
                window.location.href="./wishlist.html"
            }
        });

        AddtoCart.addEventListener("click", ()=>{
            if(checkDuplicate(products)){
                alert("Product already in cart");
            } else{
                Cart.push({...products, quantity:1});
                localStorage.setItem("cart",JSON.stringify(Cart));
                alert("product added to cart")
            }
        });
        Card.append(Image,name,Brand,Price,Detail,AddtoCart,wishlist);
        Container.append(Card);
    });
    console.log("display",data);
}
DisplayData(products)

function checkDuplicate(products) {
      for (let i = 0; i < Cart.length; i++) {
        if (Cart[i].id == products.id) {
          return true;
        }
      }
      return false;
    }
	function checkDuplicate(products) {
      for (let i = 0; i < Wish.length; i++) {
        if (Wish[i].id == products.id) {
          return true;
        }
      }
      return false;
    }




</script>
</html>
